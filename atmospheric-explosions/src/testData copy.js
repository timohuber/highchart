// USA, USSR/Russia, UK, France, China, India, Pakistan, DPRK
// atmospheric, underground

const countries = [
    'USA',
    'USSR/Russia',
    'UK',
    'France',
    'China',
    'India',
    'Pakistan',
    'DPRK',
];

const colors = [
    'blue',
    '#ff0000',
    'green',
    'yellow',
    'orange',
    'purple',
    'grey',
    'black',
];

const nuclear_dates = {
    1945: [
        [3, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1946: [
        [2, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1947: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1948: [
        [3, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1949: [
        [0, 1, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1950: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1951: [
        [15, 2, 0, 0, 0, 0, 0, 0],
        [1, 0, 0, 0, 0, 0, 0, 0],
    ],
    1952: [
        [10, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1953: [
        [11, 5, 2, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1954: [
        [6, 10, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1955: [
        [17, 6, 0, 0, 0, 0, 0, 0],
        [1, 0, 0, 0, 0, 0, 0, 0],
    ],
    1956: [
        [18, 9, 6, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1957: [
        [27, 16, 7, 0, 0, 0, 0, 0],
        [5, 0, 0, 0, 0, 0, 0, 0],
    ],
    1958: [
        [62, 34, 5, 0, 0, 0, 0, 0],
        [15, 0, 0, 0, 0, 0, 0, 0],
    ],
    1959: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1960: [
        [0, 0, 0, 3, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1961: [
        [0, 58, 1, 1, 0, 0, 0, 0],
        [10, 1, 0, 1, 0, 0, 0, 0],
    ],
    1962: [
        [39, 78, 0, 0, 0, 0, 0, 0],
        [57, 1, 2, 1, 0, 0, 0, 0],
    ],
    1963: [
        [4, 0, 0, 0, 0, 0, 0, 0],
        [43, 0, 0, 3, 0, 0, 0, 0],
    ],
    1964: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [45, 9, 2, 3, 0, 0, 0, 0],
    ],
    1965: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [38, 14, 1, 4, 0, 0, 0, 0],
    ],
    1966: [
        [0, 0, 0, 6, 3, 0, 0, 0],
        [48, 18, 0, 1, 0, 0, 0, 0],
    ],
    1967: [
        [0, 0, 0, 3, 2, 0, 0, 0],
        [42, 17, 0, 0, 0, 0, 0, 0],
    ],
    1968: [
        [0, 0, 0, 5, 1, 0, 0, 0],
        [56, 17, 0, 0, 0, 0, 0, 0],
    ],
    1969: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [46, 19, 0, 0, 1, 0, 0, 0],
    ],
    1970: [
        [0, 0, 0, 8, 1, 0, 0, 0],
        [39, 16, 0, 0, 0, 0, 0, 0],
    ],
    1971: [
        [0, 0, 0, 5, 1, 0, 0, 0],
        [24, 23, 0, 0, 0, 0, 0, 0],
    ],
    1972: [
        [0, 0, 0, 4, 2, 0, 0, 0],
        [27, 24, 0, 0, 0, 0, 0, 0],
    ],
    1973: [
        [0, 0, 0, 6, 1, 0, 0, 0],
        [24, 17, 0, 0, 0, 0, 0, 0],
    ],
    1974: [
        [0, 0, 1, 9, 1, 0, 0, 0],
        [22, 21, 1, 0, 0, 1, 0, 0],
    ],
    1975: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [22, 19, 0, 2, 1, 0, 0, 0],
    ],
    1976: [
        [0, 0, 0, 0, 3, 0, 0, 0],
        [20, 21, 1, 5, 1, 0, 0, 0],
    ],
    1977: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [20, 24, 0, 9, 0, 0, 0, 0],
    ],
    1978: [
        [0, 0, 0, 0, 2, 0, 0, 0],
        [19, 31, 2, 11, 1, 0, 0, 0],
    ],
    1979: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [15, 31, 1, 10, 0, 0, 0, 0],
    ],
    1980: [
        [0, 0, 0, 0, 1, 0, 0, 0],
        [14, 24, 3, 12, 0, 0, 0, 0],
    ],
    1981: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [16, 21, 1, 12, 0, 0, 0, 0],
    ],
    1982: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [18, 19, 1, 10, 1, 0, 0, 0],
    ],
    1983: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [18, 25, 1, 9, 2, 0, 0, 0],
    ],
    1984: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [18, 27, 2, 8, 2, 0, 0, 0],
    ],
    1985: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [17, 10, 1, 8, 0, 0, 0, 0],
    ],
    1986: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [14, 0, 1, 8, 0, 0, 0, 0],
    ],
    1987: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [14, 23, 1, 8, 1, 0, 0, 0],
    ],
    1988: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [15, 16, 0, 8, 1, 0, 0, 0],
    ],
    1989: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [11, 7, 1, 9, 0, 0, 0, 0],
    ],
    1990: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [8, 1, 1, 6, 2, 0, 0, 0],
    ],
    1991: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [7, 0, 1, 6, 0, 0, 0, 0],
    ],
    1992: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [6, 0, 0, 0, 2, 0, 0, 0],
    ],
    1993: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 0, 0],
    ],
    1994: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 2, 0, 0, 0],
    ],
    1995: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 5, 2, 0, 0, 0],
    ],
    1996: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 1, 2, 0, 0, 0],
    ],
    1997: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    1998: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 2, 2, 0],
    ],
    1999: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2000: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2001: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2002: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2003: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2004: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2005: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2006: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 1],
    ],
    2007: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2008: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
    ],
    2009: [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 1],
    ],
};


const refactorData = () => {
    const data = [];
    countries.forEach((country, index) => {
        const atmosphericTests = [];
        const undergroundTests = [];

        for (const [key, value] of Object.entries(nuclear_dates)) {
            atmosphericTests.push(value[0][index]);
            undergroundTests.push(value[1][index] * -1);
        }
        data.push({
            name: country,
            data: atmosphericTests,
            showInLegend: true,
            color: colors[index],
        });
        data.push({
            name: country,
            data: undergroundTests,
            showInLegend: false,
            color: colors[index],
        });
    });
    return data;
};

console.log(refactorData());
